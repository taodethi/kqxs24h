(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{414:function(r,t,e){r.exports=e.p+"img/logo.a066050.gif"},433:function(r,t,e){"use strict";e.r(t);var n=e(4),o=(e(55),e(240),{layout:"auth",middleware:function(r){var t=r.$auth,e=r.redirect;if(t.$state.loggedIn)return e("/admin/posts")},data:function(){return{username:"",password:"",error:"",send:!1}},methods:{login:function(){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.username.trim()){t.next=2;break}return t.abrupt("return",r.error="VUI LÒNG NHẬP TÊN ĐĂNG NHẬP");case 2:if(r.password.trim()){t.next=4;break}return t.abrupt("return",r.error="VUI LÒNG NHẬP MẬT KHẨU");case 4:if(!r.send){t.next=6;break}return t.abrupt("return",r.error="VUI LÒNG ĐỢI...");case 6:return r.send=!0,t.next=9,r.$auth.login({data:{username:r.username,password:r.password}}).then((function(t){r.send=!1,t.data.error&&(r.error=t.data.error)}));case 9:case"end":return t.stop()}}),t)})))()},register:function(){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.username.trim()){t.next=2;break}return t.abrupt("return",r.error="VUI LÒNG NHẬP TÊN ĐĂNG NHẬP");case 2:if(r.password.trim()){t.next=4;break}return t.abrupt("return",r.error="VUI LÒNG NHẬP MẬT KHẨU");case 4:if(!r.send){t.next=6;break}return t.abrupt("return",r.error="VUI LÒNG ĐỢI...");case 6:return r.send=!0,t.next=9,r.$axios.$post("/users/register",{username:r.username,password:r.password});case 9:r.send=!1,r.$auth.loginWith("local",{data:{username:r.username,password:r.password}}).then((function(){r.$router.push("/admin/posts")}));case 11:case"end":return t.stop()}}),t)})))()}}}),c=e(2),component=Object(c.a)(o,(function(){var r=this,t=r._self._c;return t("section",{staticClass:"vh-100",staticStyle:{"background-color":"#508bfc"}},[t("div",{staticClass:"container py-5 h-100"},[t("div",{staticClass:"row d-flex justify-content-center align-items-center h-100"},[t("div",{staticClass:"col-12 col-md-8 col-lg-6 col-xl-5"},[t("div",{staticClass:"card shadow-2-strong",staticStyle:{"border-radius":"1rem"}},[t("div",{staticClass:"card-body px-3 py-5 text-center"},[t("NuxtLink",{attrs:{to:"/"}},[t("img",{staticClass:"logo-header mb-3",attrs:{src:e(414)}})]),r._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên đăng nhập"},domProps:{value:r.username},on:{input:function(t){t.target.composing||(r.username=t.target.value)}}})]),r._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu"},domProps:{value:r.password},on:{input:function(t){t.target.composing||(r.password=t.target.value)}}})]),r._v(" "),t("div",{staticClass:"mb-3"},[t("strong",{staticClass:"text-danger"},[r._v(r._s(r.error))])]),r._v(" "),t("button",{staticClass:"btn btn-primary w-50",attrs:{type:"submit"},on:{click:r.login}},[r._v("\n              ĐĂNG NHẬP")]),t("button",{staticClass:"btn btn-success w-50",attrs:{type:"submit"},on:{click:r.register}},[r._v("\n              ĐĂNG KÝ\n            ")])],1)])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);