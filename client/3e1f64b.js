(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{405:function(e,t,n){"use strict";n.r(t);var r,o=n(4);n(55),n(65),n(13),n(87);r=n(247);var l={emits:["input"],props:["value"],data:function(){return{id:"",editor:null}},methods:{imageHandler:function(){var e=this,t=this,input=document.createElement("input");input.setAttribute("type","file"),input.setAttribute("accept","image/*"),input.click(),input.onchange=Object(o.a)(regeneratorRuntime.mark((function n(){var r,image,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.uploadImage(input.files[0]);case 2:r=n.sent,image="",o=t.editor.getSelection(),r.success?(image=r.data.link,t.editor.insertEmbed(o.index,"image",image)):((l=new FileReader).onloadend=function(){t.editor.insertEmbed(o.index,"image",l.result)},l.readAsDataURL(input.files[0]));case 6:case"end":return n.stop()}}),n)})))},uploadImage:function(e){return new Promise((function(t){var data=new FormData;data.append("image",e),fetch("https://api.imgur.com/3/image",{method:"POST",body:data,headers:{Authorization:"Client-ID b7a9455ecc883f9",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(data){return t(data)})).catch((function(e){t({error:"Lỗi khi tải ảnh lên."})}))}))}},mounted:function(){var e=this,t=this;this.id="Z"+this._uid,setTimeout((function(){e.editor=new r("#".concat(e.id),{modules:{toolbar:{container:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]],handlers:{image:e.imageHandler}}},theme:"snow",placeholder:"Vui lòng nhập nội dung..."}),e.editor.on("text-change",(function(e,n,source){t.$emit("input",t.editor.root.innerHTML)}))}),0)}},c=n(2),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{attrs:{id:e.id}},[t("div",{staticClass:"ql-editor",domProps:{innerHTML:e._s(e.value)}}),e._v(" "),t("div",{staticClass:"ql-clipboard",attrs:{contenteditable:"true",tabindex:"-1"}}),e._v(" "),e._m(0)])}),[function(){var e=this._self._c;return e("div",{staticClass:"ql-tooltip ql-hidden"},[e("a",{staticClass:"ql-preview",attrs:{rel:"noopener noreferrer",target:"_blank",href:"about:blank"}}),e("input",{attrs:{type:"text","data-formula":"e=mc^2","data-link":"https://quilljs.com","data-video":"Embed URL"}}),e("a",{staticClass:"ql-action"}),e("a",{staticClass:"ql-remove"})])}],!1,null,null,null);t.default=component.exports}}]);